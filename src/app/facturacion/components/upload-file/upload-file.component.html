<div class="content" style="margin:2%">


  <div class="">

    <div class="formgrid grid">
      <div class="field col">
        <label for="firstname2">Número de Proyecto:</label>
        <p-inputNumber id="firstname2" mode="decimal" inputId="withoutgrouping" [useGrouping]="false" [(ngModel)]="numProyecto"
          styleClass="input-styling" placeholder="Ingresa el número de proyecto y presiona la tecla 'enter'" (keydown)="changeEnter($event)">
        </p-inputNumber>
      </div>
      <div class="field col">
        <label for="concepto">Seleccion de Factruras:</label>
        <p-fileUpload #fileUpload mode="basic" [customUpload]="true" accept=".xml" (onSelect)="onBasicUpload($event)" [multiple]="true"
        [maxFileSize]="fileSizeMax" chooseLabel="Cargar XML" [disabled]="isXml"></p-fileUpload>
        <p-button *ngIf="false" icon="pi pi-refresh" (onClick)="clearFile()" label="Limpiar carga"></p-button>
        <!-- <div class="row">
          <div class="col-6">

          </div>
          <div class="col-6">

          </div>

        </div> -->


      </div>


    </div>
  </div>
  <br>

  <div *ngIf="listResponse.length > 0">
    <p-table [value]="listResponse" styleClass="p-datatable-striped" [tableStyle]="{'min-width': '50rem'}">
      <ng-template pTemplate="header">
        <tr>
          <th>Conceptos</th>
          <th>Fecha</th>
          <th>Folio</th>
          <th>Moneda</th>
          <th>Rfc Emisor</th>
          <th>Rfc Receptor</th>
          <th>Serie</th>
          <th>SubTotal</th>
          <th>Tipo de Comprobante</th>
          <th>Total</th>
          <th>Total Impuestos Trasladados</th>
          <th>UUID</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-xml>
        <tr>
          <td>
            <ng-container *ngFor="let concepto of xml.conceptos">
              {{concepto}}
            </ng-container>
          </td>
          <td>{{xml.fecha}}</td>
          <td>{{xml.folio}}</td>
          <td>{{xml.moneda}}</td>
          <td>{{xml.rfcEmisor}}</td>
          <td>{{xml.rfcReceptor}}</td>
          <td>{{xml.serie}}</td>
          <td>{{xml.subTotal}}</td>
          <td>{{xml.tipoDeComprobante}}</td>
          <td>{{xml.total}}</td>
          <td>{{xml.totalImpuestosTrasladados}}</td>
          <td>{{xml.uuid}}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>

  <div *ngIf="errorMEssageFile != ''">
    <p-message severity="error" [text]="errorMEssageFile"></p-message>
  </div>

</div>
<p-toast></p-toast>
