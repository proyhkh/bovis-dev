
<p-toast></p-toast>


<div class="main-container">
    
    <form [formGroup]="form" (ngSubmit)="guardar()">

        <ng-container formArrayName="permisos">

            <h1>Permisos: {{nombrePerfil || 'N/A'}}</h1>
            
            <div class="buttons-container mt-4">
                <button type="submit" class="btn btn-info" [disabled]="!form.valid">Guardar</button>
                <button type="button" class="btn btn-info" routerLink="/usuarios/perfiles">Regresar</button>
            </div>
    
            <p><strong>Selecciona los permisos:</strong></p>

            <div class="row">
    
                <div class="col-4 d-flex alig-items-center gap-3" *ngFor="let permiso of permisos.controls; let i = index" [formGroupName]="i">
    
                    <p-inputSwitch 
                        [id]="'permiso-' + i"
                        formControlName="activo"
                    ></p-inputSwitch>
                    <label 
                        [for]="'permiso-' + i"
                        class="text-uppercase"
                    >
                        {{permiso.get('permiso').value}}
                    </label>
    
                </div>
    
            </div>

        </ng-container>
    
    </form>

</div>