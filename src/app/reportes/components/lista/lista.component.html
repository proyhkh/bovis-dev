<p-toast></p-toast>

<div class="main-container">

  <h1>Reportes</h1>

  <p-toolbar styleClass="p-1 mb-2 d-flex justify-content-start gap-2">  
    <button 
      type="submit" 
      class="btn btn-info"
      routerLink="/reportes/registro"
    >
      Nuevo
    </button>
  </p-toolbar>

  <div class="table-container">
    <p-table 
      #tablaPrincipal
      [value]="reportes" 
      [paginator]="true"
      [showCurrentPageReport]="true"
      currentPageReportTemplate="Mostrando del {first} al {last} de {totalRecords} registros"
      [rowsPerPageOptions]="[10, 25, 50]"
      [rows]="10"
    >
    <ng-template pTemplate="header">
      <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>Fecha creaci√≥n</th>
        <th class="text-center">Opciones</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-reporte>
      <tr>
        <td>{{ reporte.idReporte }}</td>
        <td>{{ reporte.nombre }}</td>
        <td>{{ reporte.fechaCreacion | date: 'Y-m-d' }}</td>
        <td>
          <div class="d-flex gap-2">
            <button 
              title="Modificar reporte" 
              pButton 
              pRipple 
              icon="pi pi-pencil" 
              class="p-button-rounded p-button-success p-mr-2"
              [routerLink]="['/reportes/registro', reporte.idReporte]"
            ></button>
            <button 
              title="Ejecutar reporte" 
              pButton 
              pRipple 
              icon="pi pi-play" 
              class="p-button-rounded p-button-success p-mr-2"
              [routerLink]="['/reportes/ejecucion', reporte.idReporte]"
            ></button>
          </div>
        </td>
      </tr>
    </ng-template>
    </p-table>
  </div>
  
</div>
